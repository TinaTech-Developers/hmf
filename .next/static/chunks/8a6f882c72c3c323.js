(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,57862,e=>{"use strict";var t=e.i(43476),a=e.i(932),r=e.i(71645),i=e.i(40141);function n(e){return(0,i.GenIcon)({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"22 12 18 12 15 21 9 3 6 12 2 12"},child:[]}]})(e)}function s(e){return(0,i.GenIcon)({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"},child:[]},{tag:"polyline",attr:{points:"22 4 12 14.01 9 11.01"},child:[]}]})(e)}function o(e){return(0,i.GenIcon)({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"20 12 20 22 4 22 4 12"},child:[]},{tag:"rect",attr:{x:"2",y:"7",width:"20",height:"5"},child:[]},{tag:"line",attr:{x1:"12",y1:"22",x2:"12",y2:"7"},child:[]},{tag:"path",attr:{d:"M12 7H7.5a2.5 2.5 0 0 1 0-5C11 2 12 7 12 7z"},child:[]},{tag:"path",attr:{d:"M12 7h4.5a2.5 2.5 0 0 0 0-5C13 2 12 7 12 7z"},child:[]}]})(e)}function l(e){return(0,i.GenIcon)({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"9",cy:"7",r:"4"},child:[]},{tag:"path",attr:{d:"M23 21v-2a4 4 0 0 0-3-3.87"},child:[]},{tag:"path",attr:{d:"M16 3.13a4 4 0 0 1 0 7.75"},child:[]}]})(e)}var c=e.i(46932),d=e.i(85845);function h(){let e,i,c,h,v,N,w,C,A,_,E,k,S,D,L,T,B=(0,a.c)(22);B[0]===Symbol.for("react.memo_cache_sentinel")?(e={id:1,label:"Total Donations",value:0,icon:(0,t.jsx)(o,{className:"text-[#A7CE44]-600"})},B[0]=e):e=B[0],B[1]===Symbol.for("react.memo_cache_sentinel")?(i={id:2,label:"Items Donated",value:0,icon:(0,t.jsx)(n,{className:"text-[#A7CE44]-600"})},B[1]=i):i=B[1],B[2]===Symbol.for("react.memo_cache_sentinel")?(c={id:3,label:"Active Programs",value:0,icon:(0,t.jsx)(s,{className:"text-[#A7CE44]-600"})},B[2]=c):c=B[2],B[3]===Symbol.for("react.memo_cache_sentinel")?(h=[e,i,c,{id:4,label:"Beneficiaries",value:0,icon:(0,t.jsx)(l,{className:"text-[#A7CE44]-600"})}],B[3]=h):h=B[3];let[I,M]=(0,r.useState)(h);B[4]===Symbol.for("react.memo_cache_sentinel")?(v=[],B[4]=v):v=B[4];let[P,G]=(0,r.useState)(v);return B[5]===Symbol.for("react.memo_cache_sentinel")?(N=()=>{(async()=>{try{let e=await fetch("/api/admin/programs"),a=await e.json(),r=a.filter(j).length,i=await fetch("/api/donations"),c=await i.json(),d=c.filter(y).reduce(f,0),h=c.filter(b).reduce(p,0),m=a.reduce(g,0);M([{id:1,label:"Total Donations",value:`$${d}`,icon:(0,t.jsx)(o,{className:"text-[#A7CE44]-600"})},{id:2,label:"Items Donated",value:h,icon:(0,t.jsx)(n,{className:"text-[#A7CE44]-600"})},{id:3,label:"Active Programs",value:r,icon:(0,t.jsx)(s,{className:"text-[#A7CE44]-600"})},{id:4,label:"Beneficiaries",value:m,icon:(0,t.jsx)(l,{className:"text-[#A7CE44]-600"})}]);let u=c.sort(x);G(u.slice(0,5))}catch(e){console.error("Error fetching dashboard data:",e)}})()},w=[],B[5]=N,B[6]=w):(N=B[5],w=B[6]),(0,r.useEffect)(N,w),B[7]===Symbol.for("react.memo_cache_sentinel")?(C=(0,t.jsx)("h1",{className:"text-3xl font-bold mb-6 text-gray-900",children:"Dashboard"}),B[7]=C):C=B[7],B[8]!==I?(A=I.map(u),B[8]=I,B[9]=A):A=B[9],B[10]!==A?(_=(0,t.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:A}),B[10]=A,B[11]=_):_=B[11],B[12]===Symbol.for("react.memo_cache_sentinel")?(E=(0,t.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Recent Donations"}),B[12]=E):E=B[12],B[13]===Symbol.for("react.memo_cache_sentinel")?(k=(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"border-b border-gray-200",children:[(0,t.jsx)("th",{className:"py-2",children:"Donor"}),(0,t.jsx)("th",{className:"py-2",children:"Type"}),(0,t.jsx)("th",{className:"py-2",children:"Amount / Items"}),(0,t.jsx)("th",{className:"py-2",children:"Date"})]})}),B[13]=k):k=B[13],B[14]!==P?(S=P.map(m),B[14]=P,B[15]=S):S=B[15],B[16]!==S?(D=(0,t.jsxs)("div",{className:"bg-white rounded-2xl shadow p-6 mb-8",children:[E,(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full text-left",children:[k,(0,t.jsx)("tbody",{children:S})]})})]}),B[16]=S,B[17]=D):D=B[17],B[18]===Symbol.for("react.memo_cache_sentinel")?(L=(0,t.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-6",children:[(0,t.jsx)("div",{className:"bg-[#A7CE44] text-white p-6 rounded-2xl cursor-pointer hover:bg-[#A7CE44] transition",children:"Add Donation"}),(0,t.jsx)("div",{className:"bg-[#A7CE44] text-white p-6 rounded-2xl cursor-pointer hover:bg-[#A7CE44] transition",children:"Add Program"}),(0,t.jsx)("div",{className:"bg-[#A7CE44] text-white p-6 rounded-2xl cursor-pointer hover:bg-[#A7CE44] transition",children:"Export Data"})]}),B[18]=L):L=B[18],B[19]!==D||B[20]!==_?(T=(0,t.jsxs)(d.default,{children:[C,_,D,L]}),B[19]=D,B[20]=_,B[21]=T):T=B[21],T}function m(e){return(0,t.jsxs)("tr",{className:"border-b border-gray-100",children:[(0,t.jsx)("td",{className:"py-2",children:e.name}),(0,t.jsx)("td",{className:"py-2",children:e.type}),(0,t.jsx)("td",{className:"py-2",children:"cash"===e.type?`$${Number(e.amount||0).toLocaleString()}`:e.items}),(0,t.jsx)("td",{className:"py-2",children:new Date(e.createdAt).toLocaleDateString()})]},e._id)}function u(e){return(0,t.jsxs)(c.motion.div,{className:"bg-white p-6 rounded-2xl shadow hover:shadow-lg transition",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},children:[(0,t.jsxs)("div",{className:"flex items-center gap-4 mb-2",children:[(0,t.jsx)("div",{className:"p-3 bg-[#A7CE44]-100 rounded-full",children:e.icon}),(0,t.jsx)("span",{className:"text-gray-700 font-medium",children:e.label})]}),(0,t.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:e.value})]},e.id)}function x(e,t){return new Date(t.date).getTime()-new Date(e.date).getTime()}function g(e,t){return e+(t.beneficiaries||0)}function p(e,t){return e+(t.items?.split(",").length||0)}function b(e){return"items"===e.type.toLowerCase()}function f(e,t){return e+(t.amount||0)}function y(e){return"cash"===e.type.toLowerCase()}function j(e){return"Active"===e.status}e.s(["default",()=>h],57862)}]);
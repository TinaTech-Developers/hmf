{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 28, "column": 0}, "map": {"version":3,"sources":["file:///home/tinasoft/development/nextJs/my-app/app/%28admin%29/admin/components/dashboardlayout.jsx"],"sourcesContent":["\"use client\";\n\nimport React from \"react\";\nimport Link from \"next/link\";\nimport { useRouter } from \"next/navigation\";\nimport { LogOut } from \"lucide-react\";\n\nexport default function DashboardLayout({ children }) {\n  const router = useRouter();\n\n  const handleSignOut = () => {\n    if (confirm(\"Are you sure you want to sign out?\")) {\n      localStorage.removeItem(\"adminToken\");\n      setTimeout(() => router.replace(\"/admin\"), 50);\n    }\n  };\n\n  const navItems = [\n    { label: \"Dashboard\", href: \"/admin/home\" },\n    { label: \"Donations\", href: \"/admin/donations\" },\n    { label: \"Programs\", href: \"/admin/programs\" },\n    { label: \"Volunteers\", href: \"/admin/volunteers\" },\n    { label: \"Users\", href: \"/admin/users\" },\n    { label: \"Newsletters\", href: \"/admin/newsletters\" },\n    { label: \"Settings\", href: \"/admin/settings\" },\n  ];\n\n  return (\n    <div className=\"flex flex-col min-h-screen bg-gray-50 text-gray-900 \">\n      {/* Header */}\n      <header className=\"sticky top-0 z-50 shadow-md bg-white px-6 py-4 flex justify-between items-center\">\n        <h1 className=\"text-xl font-bold text-[#A7CE44]\">Admin Panel</h1>\n        <button\n          onClick={handleSignOut}\n          className=\"flex bg-red-700 p-2 text-white items-center gap-2 rounded-lg hover:bg-[#9bcc20] transition\"\n        >\n          <LogOut size={18} /> Sign Out\n        </button>\n      </header>\n\n      <div className=\"flex flex-1\">\n        {/* Sidebar */}\n        <aside className=\"hidden lg:flex flex-col w-64 bg-green-100 border-r border-gray-200 p-4 justify-between\">\n          <nav className=\"space-y-2\">\n            {navItems.map((item) => (\n              <Link\n                key={item.label}\n                href={item.href}\n                className=\"block px-4 py-2 rounded-lg hover:bg-lime-200 transition font-medium text-[#A7CE44]\"\n              >\n                {item.label}\n              </Link>\n            ))}\n          </nav>\n        </aside>\n\n        {/* Main Content */}\n        <main className=\"flex-1 p-6 lg:p-8\">{children}</main>\n      </div>\n\n      {/* Footer */}\n      <footer className=\"bg-white shadow-inner mt-auto text-center py-3 text-sm text-gray-500\">\n        Â© {new Date().getFullYear()} Hiraya Manawari Foundation\n      </footer>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AALA;;;;;;AAOe,SAAS,gBAAgB,EAAE,QAAQ,EAAE;IAClD,MAAM,SAAS,IAAA,+IAAS;IAExB,MAAM,gBAAgB;QACpB,IAAI,QAAQ,uCAAuC;YACjD,aAAa,UAAU,CAAC;YACxB,WAAW,IAAM,OAAO,OAAO,CAAC,WAAW;QAC7C;IACF;IAEA,MAAM,WAAW;QACf;YAAE,OAAO;YAAa,MAAM;QAAc;QAC1C;YAAE,OAAO;YAAa,MAAM;QAAmB;QAC/C;YAAE,OAAO;YAAY,MAAM;QAAkB;QAC7C;YAAE,OAAO;YAAc,MAAM;QAAoB;QACjD;YAAE,OAAO;YAAS,MAAM;QAAe;QACvC;YAAE,OAAO;YAAe,MAAM;QAAqB;QACnD;YAAE,OAAO;YAAY,MAAM;QAAkB;KAC9C;IAED,qBACE,8OAAC;QAAI,WAAU;;0BAEb,8OAAC;gBAAO,WAAU;;kCAChB,8OAAC;wBAAG,WAAU;kCAAmC;;;;;;kCACjD,8OAAC;wBACC,SAAS;wBACT,WAAU;;0CAEV,8OAAC,oNAAM;gCAAC,MAAM;;;;;;4BAAM;;;;;;;;;;;;;0BAIxB,8OAAC;gBAAI,WAAU;;kCAEb,8OAAC;wBAAM,WAAU;kCACf,cAAA,8OAAC;4BAAI,WAAU;sCACZ,SAAS,GAAG,CAAC,CAAC,qBACb,8OAAC,uKAAI;oCAEH,MAAM,KAAK,IAAI;oCACf,WAAU;8CAET,KAAK,KAAK;mCAJN,KAAK,KAAK;;;;;;;;;;;;;;;kCAWvB,8OAAC;wBAAK,WAAU;kCAAqB;;;;;;;;;;;;0BAIvC,8OAAC;gBAAO,WAAU;;oBAAuE;oBACpF,IAAI,OAAO,WAAW;oBAAG;;;;;;;;;;;;;AAIpC"}},
    {"offset": {"line": 182, "column": 0}, "map": {"version":3,"sources":["file:///home/tinasoft/development/nextJs/my-app/app/%28admin%29/admin/home/page.jsx"],"sourcesContent":["\"use client\";\n\nimport React, { useEffect, useState } from \"react\";\nimport { FiUsers, FiGift, FiActivity, FiCheckCircle } from \"react-icons/fi\";\nimport { motion } from \"framer-motion\";\nimport DashboardLayout from \"../components/dashboardlayout\";\n\nexport default function DashboardHome() {\n  const [stats, setStats] = useState([\n    {\n      id: 1,\n      label: \"Total Donations\",\n      value: 0,\n      icon: <FiGift className=\"text-[#A7CE44]-600\" />,\n    },\n    {\n      id: 2,\n      label: \"Items Donated\",\n      value: 0,\n      icon: <FiActivity className=\"text-[#A7CE44]-600\" />,\n    },\n    {\n      id: 3,\n      label: \"Active Programs\",\n      value: 0,\n      icon: <FiCheckCircle className=\"text-[#A7CE44]-600\" />,\n    },\n    {\n      id: 4,\n      label: \"Beneficiaries\",\n      value: 0,\n      icon: <FiUsers className=\"text-[#A7CE44]-600\" />,\n    },\n  ]);\n\n  const [recentDonations, setRecentDonations] = useState([]);\n\n  useEffect(() => {\n    const fetchStats = async () => {\n      try {\n        const resPrograms = await fetch(\"/api/admin/programs\");\n        const programs = await resPrograms.json();\n\n        const activePrograms = programs.filter(\n          (p) => p.status === \"Active\"\n        ).length;\n\n        const resDonations = await fetch(\"/api/donations\");\n        const donations = await resDonations.json();\n\n        const totalDonations = donations\n          .filter((d) => d.type.toLowerCase() === \"cash\")\n          .reduce((acc, curr) => acc + (curr.amount || 0), 0);\n\n        const itemsDonated = donations\n          .filter((d) => d.type.toLowerCase() === \"items\")\n          .reduce((acc, curr) => acc + (curr.items?.split(\",\").length || 0), 0);\n\n        const beneficiaries = programs.reduce(\n          (acc, curr) => acc + (curr.beneficiaries || 0),\n          0\n        );\n\n        setStats([\n          {\n            id: 1,\n            label: \"Total Donations\",\n            value: `$${totalDonations}`,\n            icon: <FiGift className=\"text-[#A7CE44]-600\" />,\n          },\n          {\n            id: 2,\n            label: \"Items Donated\",\n            value: itemsDonated,\n            icon: <FiActivity className=\"text-[#A7CE44]-600\" />,\n          },\n          {\n            id: 3,\n            label: \"Active Programs\",\n            value: activePrograms,\n            icon: <FiCheckCircle className=\"text-[#A7CE44]-600\" />,\n          },\n          {\n            id: 4,\n            label: \"Beneficiaries\",\n            value: beneficiaries,\n            icon: <FiUsers className=\"text-[#A7CE44]-600\" />,\n          },\n        ]);\n\n        // Sort recent donations by date descending and take latest 5\n        const sortedDonations = donations.sort(\n          (a, b) => new Date(b.date).getTime() - new Date(a.date).getTime()\n        );\n        setRecentDonations(sortedDonations.slice(0, 5));\n      } catch (err) {\n        console.error(\"Error fetching dashboard data:\", err);\n      }\n    };\n\n    fetchStats();\n  }, []);\n\n  return (\n    <DashboardLayout>\n      <h1 className=\"text-3xl font-bold mb-6 text-gray-900\">Dashboard</h1>\n\n      {/* Stats */}\n      <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-8\">\n        {stats.map((stat) => (\n          <motion.div\n            key={stat.id}\n            className=\"bg-white p-6 rounded-2xl shadow hover:shadow-lg transition\"\n            initial={{ opacity: 0, y: 20 }}\n            whileInView={{ opacity: 1, y: 0 }}\n          >\n            <div className=\"flex items-center gap-4 mb-2\">\n              <div className=\"p-3 bg-[#A7CE44]-100 rounded-full\">\n                {stat.icon}\n              </div>\n              <span className=\"text-gray-700 font-medium\">{stat.label}</span>\n            </div>\n            <p className=\"text-2xl font-bold text-gray-900\">{stat.value}</p>\n          </motion.div>\n        ))}\n      </div>\n\n      {/* Recent Donations Table */}\n      <div className=\"bg-white rounded-2xl shadow p-6 mb-8\">\n        <h2 className=\"text-xl font-semibold text-gray-900 mb-4\">\n          Recent Donations\n        </h2>\n        <div className=\"overflow-x-auto\">\n          <table className=\"w-full text-left\">\n            <thead>\n              <tr className=\"border-b border-gray-200\">\n                <th className=\"py-2\">Donor</th>\n                <th className=\"py-2\">Type</th>\n                <th className=\"py-2\">Amount / Items</th>\n                <th className=\"py-2\">Date</th>\n              </tr>\n            </thead>\n            <tbody>\n              {recentDonations.map((d) => (\n                <tr key={d._id} className=\"border-b border-gray-100\">\n                  <td className=\"py-2\">{d.name}</td>\n                  <td className=\"py-2\">{d.type}</td>\n                  <td className=\"py-2\">\n                    {d.type === \"cash\"\n                      ? `$${Number(d.amount || 0).toLocaleString()}`\n                      : d.items}\n                  </td>\n                  <td className=\"py-2\">\n                    {new Date(d.createdAt).toLocaleDateString()}\n                  </td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        </div>\n      </div>\n\n      {/* Quick Actions */}\n      <div className=\"grid grid-cols-1 sm:grid-cols-3 gap-6\">\n        <div className=\"bg-[#A7CE44] text-white p-6 rounded-2xl cursor-pointer hover:bg-[#A7CE44] transition\">\n          Add Donation\n        </div>\n        <div className=\"bg-[#A7CE44] text-white p-6 rounded-2xl cursor-pointer hover:bg-[#A7CE44] transition\">\n          Add Program\n        </div>\n        <div className=\"bg-[#A7CE44] text-white p-6 rounded-2xl cursor-pointer hover:bg-[#A7CE44] transition\">\n          Export Data\n        </div>\n      </div>\n    </DashboardLayout>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}